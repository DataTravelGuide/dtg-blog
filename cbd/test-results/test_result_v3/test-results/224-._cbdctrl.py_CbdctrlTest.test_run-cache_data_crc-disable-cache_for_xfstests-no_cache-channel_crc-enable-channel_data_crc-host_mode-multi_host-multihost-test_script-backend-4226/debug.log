[stdlog] 2025-01-11 20:27:09,441 avocado.test INFO | INIT 1-./cbdctrl.py:CbdctrlTest.test
[stdlog] 2025-01-11 20:27:09,443 avocado.test DEBUG| PARAMS (key=timeout, path=*, default=None) => None
[stdlog] 2025-01-11 20:27:09,443 avocado.test DEBUG| Test metadata:
[stdlog] 2025-01-11 20:27:09,443 avocado.test DEBUG|   filename: /workspace/cbd-tests/cbdctrl.py
[stdlog] 2025-01-11 20:27:09,444 avocado.test DEBUG|   teststmpdir: /var/tmp/avocado_xlytph0t
[stdlog] 2025-01-11 20:27:09,447 avocado.test INFO | START 1-./cbdctrl.py:CbdctrlTest.test
[stdlog] 2025-01-11 20:27:09,448 avocado.test INFO | env_dict: {'blkdev_node': 'qemu-1', 'backend_blk': '/dev/sda', 'backend_blk_2': '/dev/sdb', 'kernel_dir': '/workspace/linux_compile/', 'config_list': 'CBD_CHANNEL_CRC CBD_CHANNEL_DATA_CRC CBD_CACHE_DATA_CRC CBD_MULTIHOST', 'backend_node': 'qemu-2', 'cache_for_xfstests': 'false', 'CBD_CHANNEL_CRC': 'true', 'CBD_CHANNEL_DATA_CRC': 'false', 'CBD_CACHE_DATA_CRC': 'false', 'CBD_MULTIHOST': 'true', 'test_script': './cbdctrl.py.data/cbdctrl_backend.sh'}
[stdlog] 2025-01-11 20:27:09,448 avocado.test DEBUG| PARAMS (key=test_script, path=*, default=None) => './cbdctrl.py.data/cbdctrl_backend.sh'
[stdout] Cbdctrl completed successfully:
[stdout] 
[stdout] /workspace/cbd-tests
[stdout] SHELL=/bin/bash
[stdout] config_list=CBD_CHANNEL_CRC CBD_CHANNEL_DATA_CRC CBD_CACHE_DATA_CRC CBD_MULTIHOST
[stdout] test_script=./cbdctrl.py.data/cbdctrl_backend.sh
[stdout] CBD_CHANNEL_CRC=true
[stdout] backend_blk_2=/dev/sdb
[stdout] backend_blk=/dev/sda
[stdout] LC_ADDRESS=C.UTF-8
[stdout] kernel_dir=/workspace/linux_compile/
[stdout] LC_NAME=C.UTF-8
[stdout] AVOCADO_TEST_LOGDIR=/root/avocado/job-results/job-2025-01-09T22.24-1680aba/test-results/224-._cbdctrl.py_CbdctrlTest.test_run-cache_data_crc-disable-cache_for_xfstests-no_cache-channel_crc-enable-channel_data_crc-host_mode-multi_host-multihost-test_script-backend-4226
[stdout] CBD_CHANNEL_DATA_CRC=false
[stdout] LC_MONETARY=C.UTF-8
[stdout] AVOCADO_SYSINFODIR=/root/avocado/job-results/job-2025-01-09T22.24-1680aba/sysinfo/pre
[stdout] EDITOR=vim
[stdout] PWD=/workspace/cbd-tests
[stdout] LOGNAME=root
[stdout] XDG_SESSION_TYPE=tty
[stdout] UBBD_TESTS_SETUP_WITHOUT_PKG=yes
[stdout] AVOCADO_TEST_OUTPUTDIR=/root/avocado/job-results/job-2025-01-09T22.24-1680aba/test-results/224-._cbdctrl.py_CbdctrlTest.test_run-cache_data_crc-disable-cache_for_xfstests-no_cache-channel_crc-enable-channel_data_crc-host_mode-multi_host-multihost-test_script-backend-4226/data
[stdout] AVOCADO_VERSION=96.0
[stdout] MOTD_SHOWN=pam
[stdout] HOME=/root
[stdout] LANG=C.UTF-8
[stdout] LC_PAPER=C.UTF-8
[stdout] LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
[stdout] CBD_MULTIHOST=true
[stdout] UBBD_SKIP_INSTALL_DEP=yes
[stdout] AVOCADO_TEST_LOGFILE=/root/avocado/job-results/job-2025-01-09T22.24-1680aba/test-results/224-._cbdctrl.py_CbdctrlTest.test_run-cache_data_crc-disable-cache_for_xfstests-no_cache-channel_crc-enable-channel_data_crc-host_mode-multi_host-multihost-test_script-backend-4226/debug.log
[stdout] SSH_CONNECTION=192.168.122.1 58562 192.168.122.176 22
[stdout] LESSCLOSE=/usr/bin/lesspipe %s %s
[stdout] XDG_SESSION_CLASS=user
[stdout] cache_for_xfstests=false
[stdout] TERM=screen-256color
[stdout] LC_IDENTIFICATION=C.UTF-8
[stdout] LESSOPEN=| /usr/bin/lesspipe %s
[stdout] LIBVIRT_DEFAULT_URI=qemu:///system
[stdout] USER=root
[stdout] AVOCADO_TEST_BASEDIR=/workspace/cbd-tests
[stdout] backend_node=qemu-2
[stdout] SHLVL=2
[stdout] LC_TELEPHONE=C.UTF-8
[stdout] LC_MEASUREMENT=C.UTF-8
[stdout] XDG_SESSION_ID=5
[stdout] LC_CTYPE=C.UTF-8
[stdout] XDG_RUNTIME_DIR=/run/user/0
[stdout] SSH_CLIENT=192.168.122.1 58562 22
[stdout] DEBUGINFOD_URLS=
[stdout] LC_TIME=C.UTF-8
[stdout] blkdev_node=qemu-1
[stdout] XDG_DATA_DIRS=/usr/local/share:/usr/share:/var/lib/snapd/desktop
[stdout] TMP=/var/tmp
[stdout] PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
[stdout] AVOCADO_TESTS_COMMON_TMPDIR=/var/tmp/avocado_xlytph0t
[stdout] DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/0/bus
[stdout] SSH_TTY=/dev/pts/1
[stdout] CBD_CACHE_DATA_CRC=false
[stdout] LIBC_FATAL_STDERR_=1
[stdout] LC_NUMERIC=C.UTF-8
[stdout] OLDPWD=/workspace/datatravelguide
[stdout] _=/usr/bin/env
[stdout] CONFIG_CBD_CHANNEL_CRC=y
[stdout] # CONFIG_CBD_CHANNEL_DATA_CRC is not set
[stdout] # CONFIG_CBD_CACHE_DATA_CRC is not set
[stdout] CONFIG_CBD_MULTIHOST=y
[stdout]   SYNC    include/config/auto.conf.cmd
[stdout]   CALL    scripts/checksyscalls.sh
[stdout]   DESCEND objtool
[stdout]   INSTALL libsubcmd_headers
[stdout] make[1]: Entering directory '/workspace/linux_compile/drivers/block/cbd'
[stdout]   CC [M]  cbd_main.o
[stdout]   CC [M]  cbd_transport.o
[stdout]   CC [M]  cbd_channel.o
[stdout]   CC [M]  cbd_host.o
[stdout]   CC [M]  cbd_backend.o
[stdout]   CC [M]  cbd_handler.o
[stdout]   CC [M]  cbd_blkdev.o
[stdout]   CC [M]  cbd_queue.o
[stdout]   CC [M]  cbd_segment.o
[stdout]   CC [M]  cbd_cache/cbd_cache.o
[stdout]   CC [M]  cbd_cache/cbd_cache_key.o
[stdout]   CC [M]  cbd_cache/cbd_cache_segment.o
[stdout]   CC [M]  cbd_cache/cbd_cache_req.o
[stdout]   CC [M]  cbd_cache/cbd_cache_gc.o
[stdout]   CC [M]  cbd_cache/cbd_cache_writeback.o
[stdout]   LD [M]  cbd.o
[stdout]   MODPOST Module.symvers
[stdout]   LD [M]  cbd.ko
[stdout] make[1]: Leaving directory '/workspace/linux_compile/drivers/block/cbd'
[stdout] Transport registered successfully with expected path: /dev/pmem0
[stdout] Transport registered successfully with expected path: /dev/pmem0
[stdout] Waiting for qemu-2 to become available via SSH...
[stdout] Attempt 1/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 2/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 3/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 4/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 5/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 6/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 7/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 8/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 9/20 failed (exit code 255), retrying in 5 seconds...
[stdout] Attempt 10/20 failed (exit code 255), retrying in 5 seconds...
[stdout] SSH check successful (1/3).
[stdout] SSH check successful (2/3).
[stdout] SSH check successful (3/3).
[stdout] qemu-2 is up and SSH is stable!
[stdout] Transport registered successfully with expected path: /dev/pmem0
[stdout] Error: Command failed with status 1
[stdout] failed to write op=dev-stop,dev_id=0 to /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 1/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to write op=dev-stop,dev_id=0 to /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 2/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to write op=dev-stop,dev_id=0 to /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 3/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] Failed to write command 'op=dev-stop,dev_id=0' after 3 attempts. Final Error: Unknown error -1
[stdout] Error: Command failed with status 255
[stdout] failed to write op=backend-stop,backend_id=0 to /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Error: Command failed with status 255
[stdout] []
[stdout] Running cleanup...
[stdout] Error: Command failed with status 32
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 1/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 2/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 3/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] Failed to write command 'op=dev-stop,dev_id=0' after 3 attempts. Final Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 1/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 2/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 3/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] Failed to write command 'op=dev-stop,dev_id=1' after 3 attempts. Final Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 1/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 2/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 3/3 failed to write command 'op=dev-stop,dev_id=0'. Error: Unknown error -1
[stdout] Failed to write command 'op=dev-stop,dev_id=0' after 3 attempts. Final Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 1/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 2/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] failed to open /sys/bus/cbd/devices/transport0/adm, exit!
[stdout] Attempt 3/3 failed to write command 'op=dev-stop,dev_id=1'. Error: Unknown error -1
[stdout] Failed to write command 'op=dev-stop,dev_id=1' after 3 attempts. Final Error: Unknown error -1
[stdout] tranposrt for id 0 not found.tranposrt for id 0 not found.failed to write transport_id=0 to /sys/bus/cbd/transport_unregister, exit!
[stdout] failed to write transport_id=0 to /sys/bus/cbd/transport_unregister, exit!
[stdout] 
[stdlog] 2025-01-11 20:30:41,255 avocado.test INFO | Cbdctrl test finished.
[stdlog] 2025-01-11 20:30:41,256 avocado.test INFO | PASS 1-./cbdctrl.py:CbdctrlTest.test
[stdlog] 2025-01-11 20:30:41,256 avocado.test INFO | 
